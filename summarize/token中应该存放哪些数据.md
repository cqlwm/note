# token中应该存放哪些数据



## 关键点

1. 安全性和隐私保护：需要确保JWT是加密的，以防止信息泄露。如果这些信息是敏感的，最好不要将它们放入JWT中，以防止信息泄露。

2. 数据一致性：确保JWT中的信息与实际数据的一致性是非常重要的。可以采用时间戳、版本号、过期时间等方法来解决这个问题。

3. 可变信息的处理：类似email、address等信息都是可变的，如果放入JWT中，可能会出现数据不一致的问题。可以将JWT中的信息保持小化，只包含必要的信息，例如用户ID和访问权限等。其他可变的信息，例如email和address等，可以从数据库中获取
4. 签名：在JWT中包含一个签名，以确保JWT的完整性和安全性。签名可以防止JWT被篡改或造，从而确保JWT中的信息与实际数据的一致性。



> 在生成JWT时，需要考虑:
>
> - 数据安全和隐私保护;
> - 数据一致性;
> - 可变信息的处理
> - 签名签名。



## 数据不可变的好处

- 不会产生数据一致性问题；
- Token刷新不依赖于数据库信息。



